---
title: 在linux查看磁盘空间和目录大小
date: 2017-10-09 15:31:30
categories: Linux 
---

### ** preface **

在某交流群看见讨论大家讨论容器日志的管理,除了想到了容器日志的管理也想到了Linux系统的日志管理,无论是个人PC还是服务器。

记得之前某次登录工作室服务器,看到了年代久远的日志文件。

这是不应该的,应该及时对系统日志清理,以免堆积过多,对系统产生影响。

当然可以通过编写shell脚本自动化处理。这点之后会单独写篇博文介绍。

本文介绍两个有关监测方面的命令

***************

### ** df **

df命令用于显示磁盘分区上的可使用的磁盘空间。默认显示单位为KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。

#### ** 语法 **
 
 df(选项)(参数) 选项 


```
-a或--all：包含全部的文件系统
 --block-size=<区块大小>：以指定的区块大小来显示区块数目
 -h或--human-readable：以可读性较高的方式来显示信息
 -H或--si：与-h参数相同，但在计算时是以1000 Bytes为换算单位而非1024 Bytes
 -i或--inodes：显示inode的信息
 -k或--kilobytes：指定区块大小为1024字节
 -l或--local：仅显示本地端的文件系统
 -m或--megabytes：指定区块大小为1048576字节
 --no-sync：在取得磁盘使用信息前，不要执行sync指令，此为预设值
 -P或--portability：使用POSIX的输出格式
 --sync：在取得磁盘使用信息前，先执行sync指令
 -t<文件系统类型>或--type=<文件系统类型>：仅显示指定文件系统类型的磁盘信息
 -T或--print-type：显示文件系统的类型
 -x<文件系统类型>或--exclude-type=<文件系统类型>：不要显示指定文件系统类型的磁盘信息
 --help：显示帮助
 --version：显示版本信息。 
 ```
 
 #### ** 参数 **
 
 文件：指定文件系统上的文件。 
 
 #### ** 实例 ** 
 
 查看系统磁盘设备，默认是KB为单位： 

`df`

使用-h选项以KB以上的单位来显示，可读性高：

`df -h`

查看全部文件系统：

`df -a`

***************

### ** du **


du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的。
 
#### ** 语法 ** 
 
du [选项][文件] 
 
#### ** 选项 ** 
```
 -a或-all 显示目录中个别文件的大小。
 -b或-bytes 显示目录或文件大小时，以byte为单位。
 -c或--total 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。
 -k或--kilobytes 以KB(1024bytes)为单位输出。
 -m或--megabytes 以MB为单位输出。
 -s或--summarize 仅显示总计，只列出最后加总的值。
 -h或--human-readable 以K，M，G为单位，提高信息的可读性。
 -x或--one-file-xystem 以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。
 -L<符号链接>或--dereference<符号链接> 显示选项中所指定符号链接的源文件大小。
 -S或--separate-dirs 显示个别目录的大小时，并不含其子目录的大小。
 -X<文件>或--exclude-from=<文件> 在<文件>指定目录或文件。
 --exclude=<目录或文件> 略过指定的目录或文件。
 -D或--dereference-args 显示指定符号链接的源文件大小。
 -H或--si 与-h参数相同，但是K，M，G是以1000为换算单位。
 -l或--count-links 重复计算硬件链接的文件。
```

#### ** 实例  **

显示目录或者文件所占空间

`du`

查询当前目录和文件的大小

`du -sh *`

***************

## ** 参考 **
[du命令](http://man.linuxde.net/du)
[df命令](http://man.linuxde.net/df)
